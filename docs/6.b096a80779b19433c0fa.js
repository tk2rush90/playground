(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{UJRG:function(t,e,s){"use strict";s.r(e),s.d(e,"PerspectivePageModule",function(){return f});var n=s("ofXK"),i=s("tyNb"),o=s("fXoL"),c=s("YrwR"),h=function(t){return t.upward="upward",t.downward="downward",t.none="none",t}({});function r(t,e){let s=0;return t&&e&&(s=Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY)),s}function a(t,e){if(1&t&&(o.Ib(0,"div"),o.Xb(1),o.Hb()),2&t){const t=e.$implicit;o.Ub("background-color",t.backgroundColor)("left",t.x+"px")("top",t.y+"px")("transform",t.transform)("z-index",t.distance),o.ub(1),o.Yb(" ",t.distance,"\n")}}class d{constructor(t){this._distance=0,this._radius=300,this._color=Object(c.c)(["#8D0B0B","#FF8811","#FF3E3E","#1ADBCE","#C73FC7","#3574DF","#EEFF46"]),this._center=t.center,this._distance=t.distance||0,this._angle=Object(c.b)(0,360),this._setBasePosition()}_setBasePosition(){var t,e,s;this._position=(e=this._angle,{x:(t=this._center).x+(s=this._radius)*Math.cos(e),y:t.y+s*Math.sin(e)})}get transform(){return`translate3d(-50%, -50%, ${80*this._distance-700}px)`}get backgroundColor(){return this._color}get x(){return this._position.x}get y(){return this._position.y}set distance(t){this._distance=t}get distance(){return this._distance}resize(t){this._center=t,this._setBasePosition()}}let u=(()=>{class t{constructor(t,e){this.elementRef=t,this.changeDetectorRef=e,this.numberOfObjects=100,this.objects=[],this.distance=0,this._center={x:0,y:0},this._timers=[],this._startDistance=0,this._movedDistance=0,this._touchStarted=!1,this._scrollSpeed=4,this._handleTouchMove=t=>{this._setTouchMoveDistance(t.touches),this._zoomInOutWithTouches()},this._handleTouchEnd=()=>{this._removeTouchMoveEvent(),this._removeTouchEndEvent(),this._touchStarted=!1}}ngOnInit(){}ngAfterViewInit(){this._setCenterPoint(),this._createObjects(),this._setInitialDistance()}ngOnDestroy(){this._clearAllTimers()}get host(){var t;return null===(t=this.elementRef)||void 0===t?void 0:t.nativeElement}_setCenterPoint(){this.host&&(this._center.x=this.host.offsetWidth/2,this._center.y=this.host.offsetHeight/2)}_createObjects(){for(let t=0;t<this.numberOfObjects;t++){const t=new d({center:this._center,distance:this.numberOfObjects});this.objects.push(t)}}_setInitialDistance(){this._clearAllTimers(),this._timers=this.objects.map((t,e)=>setTimeout(()=>{t.distance=4*-e+this.numberOfObjects}))}_clearAllTimers(){this._timers.forEach(t=>clearTimeout(t))}onHostWheel(t){this._canScroll(t.deltaY)&&this.objects.forEach(e=>{e.distance+=Math.ceil(t.deltaY/100)*this._scrollSpeed})}_canScroll(t){const e=(s=t)>0?h.downward:s<0?h.upward:h.none;var s;const n=this.objects.map(t=>t.distance),i=Math.max(...n),o=Math.min(...n);return e===h.upward&&i>=0||e===h.downward&&o<=0}onWindowResize(){this._setCenterPoint(),this._updateCenterPosition()}_updateCenterPosition(){this.objects.forEach(t=>t.resize(this._center))}onHostTouchStart(t){t.touches.length>=2&&(this._setTouchStartDistance(t.touches),this._addTouchMoveEvent(),this._addTouchEndEvent(),this._touchStarted=!0)}_setTouchStartDistance(t){this._startDistance=r(t.item(0),t.item(1))}_addTouchMoveEvent(){this.host&&!this._touchStarted&&this.host.addEventListener("touchmove",this._handleTouchMove)}_setTouchMoveDistance(t){this._movedDistance=r(t.item(0),t.item(1))}_zoomInOutWithTouches(){const t=this._movedDistance-this._startDistance>0?-2:2;this.distance=t,this._canScroll(t)&&this.objects.forEach(e=>{e.distance+=t*this._scrollSpeed}),this._startDistance=this._movedDistance,this.changeDetectorRef.detectChanges()}_addTouchEndEvent(){this.host&&!this._touchStarted&&(this.host.addEventListener("touchend",this._handleTouchEnd),this.host.addEventListener("touchcancel",this._handleTouchEnd))}_removeTouchMoveEvent(){this.host&&this._touchStarted&&this.host.removeEventListener("touchmove",this._handleTouchMove)}_removeTouchEndEvent(){this.host&&this._touchStarted&&(this.host.removeEventListener("touchend",this._handleTouchEnd),this.host.removeEventListener("touchcancel",this._handleTouchEnd))}}return t.\u0275fac=function(e){return new(e||t)(o.Eb(o.l),o.Eb(o.h))},t.\u0275cmp=o.yb({type:t,selectors:[["app-perspective-container"]],hostBindings:function(t,e){1&t&&o.Nb("wheel",function(t){return e.onHostWheel(t)})("resize",function(){return e.onWindowResize()},!1,o.Rb)("touchstart",function(t){return e.onHostTouchStart(t)})},decls:2,vars:2,consts:[[3,"background-color","left","top","transform","z-index",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Xb(0),o.Wb(1,a,2,11,"div",0)),2&t&&(o.Yb("",e.distance," "),o.ub(1),o.Pb("ngForOf",e.objects))},directives:[n.h],styles:["[_nghost-%COMP%]{width:100%;height:100%;top:0;left:0;background-color:#333;perspective:700px;overflow:hidden}[_nghost-%COMP%], div[_ngcontent-%COMP%]{position:absolute}div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;width:200px;height:125px;background-color:#fff;transition:transform 1s ease-out;box-shadow:0 3px 10px rgba(0,0,0,.3);font-size:24px}div[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}span[_ngcontent-%COMP%]{position:absolute}"]}),t})();const l=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.yb({type:t,selectors:[["app-perspective-page"]],decls:1,vars:0,template:function(t,e){1&t&&o.Fb(0,"app-perspective-container")},directives:[u],styles:[""]}),t})()}];let _=(()=>{class t{}return t.\u0275mod=o.Cb({type:t}),t.\u0275inj=o.Bb({factory:function(e){return new(e||t)},imports:[[i.b.forChild(l)],i.b]}),t})();var p=s("UrJe");let f=(()=>{class t{}return t.\u0275mod=o.Cb({type:t}),t.\u0275inj=o.Bb({factory:function(e){return new(e||t)},imports:[[n.b,_,p.a]]}),t})()}}]);